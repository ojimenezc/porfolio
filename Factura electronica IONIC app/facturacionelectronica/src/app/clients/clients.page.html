<!--
  ~ Copyright (c) 2019.  SOFTCORP-CR S.A. All Rights Reserved. Any partial or total reproduction of this file without authorization from the owner is prohibited.
  -->

<ion-header>
    <ion-toolbar>
        <ion-title>{{'CLIENTS_PAGE_TITLE'|translate}}</ion-title>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
    </ion-toolbar>

</ion-header>

<ion-content>
    <ion-searchbar [(ngModel)]="filterCriteria" (ionChange)="filterClients()"></ion-searchbar>
    <div *ngIf="notResultsFound" class="ion-text-center">
        <p>{{'NOT_RESULTS_FOUND'|translate}}</p>
    </div>
    <div *ngIf="!notResultsFound &&  this.clients.length>0">
        <ion-card *ngFor="let client of clients">
            <ion-card-header>
                <ion-card-title>{{client.clientName}}</ion-card-title>
                <ion-card-subtitle>{{client.contactEmail}}</ion-card-subtitle>
            </ion-card-header>

            <ion-card-content>
                <ion-item>
                    <ion-label position="stacked"><strong>{{'IDENTIFICATION_NUMBER_LABEL'|translate}}</strong>
                    </ion-label>
                    <ion-text>{{client.identificationNumber}}</ion-text>
                </ion-item>
                <ion-item>
                    <ion-label position="stacked"><strong>{{'PHONE_LABEL'|translate}}</strong></ion-label>
                    <ion-text>{{client.contactPhone}}</ion-text>
                </ion-item>
                <ion-item>
                    <ion-button color="primary" size="small" type="button" (click)="edit(client)" fill="outline">
                        {{'BTN_EDIT_CLIENT'|translate}}
                    </ion-button>

                    <ion-button color="danger" size="small" type="button" (click)="delete(client.id)" fill="outline">
                        {{'BTN_DELETE_CLIENT'|translate}}
                    </ion-button>

                </ion-item>
            </ion-card-content>

        </ion-card>
        <ion-fab vertical="bottom" horizontal="end">
            <ion-fab-button (click)="goToCreateClient()">
                <ion-icon name="add"></ion-icon>
            </ion-fab-button>
        </ion-fab>

    </div>
    <div *ngIf="this.clients===undefined || this.clients.length==0">
        <p class="ion-text-center">
            {{'NO_CLIENTS_YET'|translate}}
            <ion-fab vertical="center" horizontal="center" slot="fixed">
                <ion-fab-button (click)="goToCreateClient()">
                    <ion-icon name="add"></ion-icon>
                </ion-fab-button>
            </ion-fab>
        </p>

    </div>

</ion-content>
